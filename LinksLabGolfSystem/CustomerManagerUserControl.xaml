<UserControl x:Class="LinksLabGolfSystem.CustomerManagerUserControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:linksLabGolfSystem="clr-namespace:LinksLabGolfSystem">

    <Grid>


        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <TextBlock Grid.Row="0" FontSize="14" FontWeight="Bold" Text="Customer Management" HorizontalAlignment="Left" VerticalAlignment="Center" Margin="10"/>
        <Grid Grid.Row="1">

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="5"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <DataGrid x:Name="grdCustomers" CanUserAddRows="False" CanUserDeleteRows="False"
                  SelectedItem="{Binding SelectedCustomer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged }"
                  AutoGenerateColumns="False" ItemsSource="{Binding Customers, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
            <DataGrid.Columns>
                <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}"/>
                <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}"/>
                <DataGridTextColumn Header="Email Address" Binding="{Binding Email}"/>
                <DataGridCheckBoxColumn Header="Is Member" Binding="{Binding IsMember}"/>
                <DataGridTextColumn Header="Membership Renewal Date" Binding="{Binding RenewalDate}"/>
            </DataGrid.Columns>
        </DataGrid>

        <GridSplitter Grid.Column="1"
                      Width="5"
                      Background="Gray"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch"
                      ResizeBehavior="PreviousAndNext"
                      ShowsPreview="True" />

        <StackPanel Grid.Column="2">
            <StackPanel Orientation="Horizontal">
                <TextBlock Margin="5" FontWeight="Bold">Customer Editor</TextBlock>
                <Button x:Name="btnCreateNewCustomer" HorizontalAlignment="Right" Click="BtnCreateNewCustomer_OnClick">Register New Customer</Button>
                <Button x:Name="btnCancelNewCustomer" Margin="5,0,0,0" HorizontalAlignment="Right" Click="BtnCancelNewCustomer_OnClick" Visibility="Hidden">Cancel</Button>
                
            </StackPanel>
            
            
            <TextBlock FontWeight="Bold" Margin="5">First Name</TextBlock>
            <TextBox Text="{Binding SelectedCustomer.FirstName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="{Binding CustomerEditGuiColor ,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                     IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock FontWeight="Bold" Margin="5">Last Name</TextBlock>
                <TextBox Text="{Binding SelectedCustomer.LastName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="{Binding CustomerEditGuiColor ,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                         IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock FontWeight="Bold" Margin="5">Email</TextBlock>
                <TextBox Text="{Binding SelectedCustomer.Email, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="{Binding CustomerEditGuiColor ,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                         IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock FontWeight="Bold" Margin="5">Is Member</TextBlock>
                <TextBox Text="{Binding SelectedCustomer.IsMember, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="{Binding CustomerEditGuiColor ,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                         IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock FontWeight="Bold" Margin="5">Membership Renewal Date</TextBlock>
                    <TextBox Text="{Binding SelectedCustomer.RenewalDate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Background="{Binding CustomerEditGuiColor ,Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                             IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"/>

                <Button x:Name="btnSaveCustomer" Click="BtnSaveCustomer_OnClick" Margin="0,15,0,0" IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">Save Changes</Button>
                <Button x:Name="btnDeleteCustomer" Click="BtnDeleteCustomer_OnClick" Margin="0,15,0,0" HorizontalAlignment="Right" IsEnabled="{Binding TextBoxesEnabled, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">Delete Customer</Button>


        </StackPanel>
    </Grid>
    </Grid>
</UserControl>